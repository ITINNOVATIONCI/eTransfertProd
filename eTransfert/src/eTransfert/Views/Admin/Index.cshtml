@model IEnumerable<eTransfert.Models.RechargeCptePrincTrace>

@{
    ViewData["Title"] = "ListeRechargePrincipale";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
}




@section Scripts {


    




    <script src="/js/toastr.js"></script>

    <script type="text/javascript">
     @ViewBag.messageVIP

     function ShowSuccessPopup() {
         // Display an info toast
         toastr.info('Transfert effectue avec succes', 'message');

     }

     function ShowErrorPopup() {
         // Display an info toast
         toastr.error('Echec du transfert.Veuillez reessayer svp!', 'message');

     }

     function ShowMaxSeuilPopup() {
         // Display an info toast
         toastr.error('Echec du transfert. Votre seuil est atteint', 'message');

     }

     function ShowMinSoldePopup() {
         // Display an info toast
         toastr.error('Echec du transfert. Votre solde est insuffisant', 'message');

     }



     @*function loadPartialViewBenef() {
         $.ajax({
             url: "@Url.Action("_ViewBenefice", "Admin")",
             type: 'GET', // <-- make a async request by GET
         dataType: 'html', // <-- to expect an html response
         success: function(result) {
             $('#benefdiv').html(result);
         }
     });
     }

        function loadPartialViewSolde() {
            $.ajax({
                url: "@Url.Action("_ViewSoldePrincipal", "Admin")",
                type: 'GET', // <-- make a async request by GET
            dataType: 'html', // <-- to expect an html response
            success: function(result) {
                $('#soldediv').html(result);
            }
        });
        }

        function loadPartialViewListe() {
            $.ajax({
                url: "@Url.Action("_ViewListeUtilisateur", "Admin")",
                type: 'GET', // <-- make a async request by GET
            dataType: 'html', // <-- to expect an html response
            success: function(result) {
                $('#listediv').html(result);
            }
        });
        }



        $(function () {

            loadPartialViewListe();
            loadPartialViewSolde();
            loadPartialViewBenef(); // first time
            // re-call the function each 5 seconds
            window.setInterval("loadPartialViewBenef()", 12000);
            window.setInterval("loadPartialViewSolde()", 10000);
           window.setInterval("loadPartialViewListe", 8000);

        });*@

    </script>

         <!-- BEGIN PAGE LEVEL PLUGINS -->
<script type="text/javascript" src="/plugins/select2/select2.min.js"></script>
<script type="text/javascript" src="/plugins/datatables/media/js/jquery.dataTables.min.js"></script>
<script type="text/javascript" src="/plugins/datatables/extensions/TableTools/js/dataTables.tableTools.min.js"></script>
<script type="text/javascript" src="/plugins/datatables/extensions/ColReorder/js/dataTables.colReorder.min.js"></script>
<script type="text/javascript" src="/plugins/datatables/extensions/Scroller/js/dataTables.scroller.min.js"></script>
<script type="text/javascript" src="/plugins/datatables/plugins/bootstrap/dataTables.bootstrap.js"></script>
<!-- END PAGE LEVEL PLUGINS -->
<script src="/admin1/pages/scripts/table-advanced.js"></script>

<script src="/admin/pages/scripts/components-pickers.js"></script>
    <!-- BEGIN PAGE LEVEL PLUGINS -->
<script type="text/javascript" src="~/plugins/bootstrap-datepicker/js/locales/bootstrap-datepicker.fr.js"></script>
<script type="text/javascript" src="/plugins/bootstrap-timepicker/js/bootstrap-timepicker.min.js"></script>
@*<script type="text/javascript" src="../../assets/global/plugins/clockface/js/clockface.js"></script>*@
@*<script type="text/javascript" src="/plugins/bootstrap-daterangepicker/moment.min.js"></script>*@
<script type="text/javascript" src="/plugins/bootstrap-daterangepicker/moment-with-locales.js"></script>
<script type="text/javascript" src="/plugins/bootstrap-daterangepicker/daterangepicker.js"></script>
<script type="text/javascript" src="/plugins/bootstrap-colorpicker/js/bootstrap-colorpicker.js"></script>
<script type="text/javascript" src="~/plugins/bootstrap-datetimepicker/js/locales/bootstrap-datetimepicker.fr.js"></script>
<!-- END PAGE LEVEL PLUGINS -->

<script>
jQuery(document).ready(function() {
   Metronic.init(); // init metronic core components
Layout.init(); // init current layout
QuickSidebar.init(); // init quick sidebar
Demo.init(); // init demo features
//TableAdvanced.init();
ComponentsPickers.init();
});
</script>


@*<script>
        jQuery(document).ready(function() {
           // initiate layout and plugins
           Metronic.init(); // init metronic core components
Layout.init(); // init current layout
QuickSidebar.init(); // init quick sidebar
Demo.init(); // init demo features
           ComponentsPickers.init();
        });
</script>*@
<!-- END JAVASCRIPTS -->


}

@section scriptsh {

    <link href="~/css/toastr.css" rel="stylesheet" />
<link rel="stylesheet" type="text/css" href="/plugins/select2/select2.css" />
<link rel="stylesheet" type="text/css" href="/plugins/datatables/extensions/Scroller/css/dataTables.scroller.min.css" />
<link rel="stylesheet" type="text/css" href="/plugins/datatables/extensions/ColReorder/css/dataTables.colReorder.min.css" />
<link rel="stylesheet" type="text/css" href="/plugins/datatables/plugins/bootstrap/dataTables.bootstrap.css" />




    <!-- BEGIN PAGE LEVEL STYLES -->
@*<link rel="stylesheet" type="text/css" href="../../assets/global/plugins/clockface/css/clockface.css" />*@
<link rel="stylesheet" type="text/css" href="/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css" />
<link rel="stylesheet" type="text/css" href="/plugins/bootstrap-timepicker/css/bootstrap-timepicker.min.css" />
@*<link rel="stylesheet" type="text/css" href="../../assets/global/plugins/bootstrap-colorpicker/css/colorpicker.css" />*@
<link rel="stylesheet" type="text/css" href="/plugins/bootstrap-daterangepicker/daterangepicker-bs3.css" />
<link rel="stylesheet" type="text/css" href="/plugins/bootstrap-datetimepicker/css/bootstrap-datetimepicker.min.css" />
}







































<div class="page-content-wrapper">
    <div class="page-content">
        <!-- BEGIN SAMPLE PORTLET CONFIGURATION MODAL FORM-->
        @*<div class="modal fade" id="portlet-config" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
                        <h4 class="modal-title">Modal title</h4>
                    </div>
                    <div class="modal-body">
                        Widget settings form goes here
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn blue">Save changes</button>
                        <button type="button" class="btn default" data-dismiss="modal">Close</button>
                    </div>
                </div>
                <!-- /.modal-content -->
            </div>
            <!-- /.modal-dialog -->
        </div>*@
        <!-- /.modal -->
        <!-- END SAMPLE PORTLET CONFIGURATION MODAL FORM-->
        <!-- BEGIN STYLE CUSTOMIZER -->
        @*<div class="theme-panel hidden-xs hidden-sm">
            <div class="toggler">
            </div>
            <div class="toggler-close">
            </div>
            <div class="theme-options">
                <div class="theme-option theme-colors clearfix">
                    <span>
                        THEME COLOR
                    </span>
                    <ul>
                        <li class="color-default current tooltips" data-style="default" data-container="body" data-original-title="Default">
                        </li>
                        <li class="color-darkblue tooltips" data-style="darkblue" data-container="body" data-original-title="Dark Blue">
                        </li>
                        <li class="color-blue tooltips" data-style="blue" data-container="body" data-original-title="Blue">
                        </li>
                        <li class="color-grey tooltips" data-style="grey" data-container="body" data-original-title="Grey">
                        </li>
                        <li class="color-light tooltips" data-style="light" data-container="body" data-original-title="Light">
                        </li>
                        <li class="color-light2 tooltips" data-style="light2" data-container="body" data-html="true" data-original-title="Light 2">
                        </li>
                    </ul>
                </div>
                <div class="theme-option">
                    <span>
                        Theme Style
                    </span>
                    <select class="layout-style-option form-control input-sm">
                        <option value="square" selected="selected">Square corners</option>
                        <option value="rounded">Rounded corners</option>
                    </select>
                </div>
                <div class="theme-option">
                    <span>
                        Layout
                    </span>
                    <select class="layout-option form-control input-sm">
                        <option value="fluid" selected="selected">Fluid</option>
                        <option value="boxed">Boxed</option>
                    </select>
                </div>
                <div class="theme-option">
                    <span>
                        Header
                    </span>
                    <select class="page-header-option form-control input-sm">
                        <option value="fixed" selected="selected">Fixed</option>
                        <option value="default">Default</option>
                    </select>
                </div>
                <div class="theme-option">
                    <span>
                        Top Menu Dropdown
                    </span>
                    <select class="page-header-top-dropdown-style-option form-control input-sm">
                        <option value="light" selected="selected">Light</option>
                        <option value="dark">Dark</option>
                    </select>
                </div>
                <div class="theme-option">
                    <span>
                        Sidebar Mode
                    </span>
                    <select class="sidebar-option form-control input-sm">
                        <option value="fixed">Fixed</option>
                        <option value="default" selected="selected">Default</option>
                    </select>
                </div>
                <div class="theme-option">
                    <span>
                        Sidebar Menu
                    </span>
                    <select class="sidebar-menu-option form-control input-sm">
                        <option value="accordion" selected="selected">Accordion</option>
                        <option value="hover">Hover</option>
                    </select>
                </div>
                <div class="theme-option">
                    <span>
                        Sidebar Style
                    </span>
                    <select class="sidebar-style-option form-control input-sm">
                        <option value="default" selected="selected">Default</option>
                        <option value="light">Light</option>
                    </select>
                </div>
                <div class="theme-option">
                    <span>
                        Sidebar Position
                    </span>
                    <select class="sidebar-pos-option form-control input-sm">
                        <option value="left" selected="selected">Left</option>
                        <option value="right">Right</option>
                    </select>
                </div>
                <div class="theme-option">
                    <span>
                        Footer
                    </span>
                    <select class="page-footer-option form-control input-sm">
                        <option value="fixed">Fixed</option>
                        <option value="default" selected="selected">Default</option>
                    </select>
                </div>

            </div>
        </div>*@
        <!-- END STYLE CUSTOMIZER -->
        <!-- BEGIN PAGE HEADER-->
        <div class="page-bar">
            <ul class="page-breadcrumb">
                <li>
                    <i class="fa fa-home"></i>
                    <a href="/Home/">Accueil</a>
                    <i class="fa fa-angle-right"></i>
                </li>
                <li>
                    <a href="#">Dashboard</a>
                </li>
            </ul>
            
        </div>
        <h3 class="page-title">
            Dashboard <small>Rapports & statistiques</small> 
        </h3>
        <!-- END PAGE HEADER-->
        <!-- BEGIN DASHBOARD STATS -->
        <div class="row">
            <div id="listediv" class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                 @await Html.PartialAsync("_ViewListeUtilisateur")
            </div>
            <div id="soldediv" class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                @await Html.PartialAsync("_ViewSoldePrincipal")
            </div>
            <div id="benefdiv" class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
                @await Html.PartialAsync("_ViewBenefice")
            </div>
            <div id="listeadmindiv" class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
               @Html.Partial("_ViewListeAdmin")
            </div>
        </div>
        <!-- END DASHBOARD STATS -->
        <div class="clearfix">
        </div>

        <div class="clearfix">
        </div>

        <p style="font-size:medium;">
            <a asp-action="CreerNouveauRechargement">Nouveau rechargement</a>
        </p>

        <div class="row">


            <div class="col-md-pull-8">
                <!-- BEGIN SAMPLE TABLE PORTLET-->
                <div class="portlet box blue-soft">
                    <div class="portlet-title">
                        <div class="caption">
                            <i class="fa fa-cogs"></i>Rechargement du compte principal en unit&eacute;s
                        </div>
                        <div class="tools">
                            @*<a href="javascript:;" class="collapse">
                                </a>
                                <a href="#portlet-config" data-toggle="modal" class="config">
                                </a>*@
                            <a href="javascript:;" class="reload">
                            </a>
                            @*<a href="javascript:;" class="remove">
                                </a>*@
                        </div>
                    </div>
                    <div class="portlet-body">
                        <div class="table-scrollable col-md-pull-8" style="font-size:medium;">
                            <table class="table table-striped table-bordered table-hover" id="sample_1">
                                <thead>
                                    <tr>
                                        <th>
                                            @Html.DisplayNameFor(model => model.Montant)
                                        </th>
                                        <th>
                                            Benefice
                                        </th>
                                        <th>
                                            Date transaction
                                        </th>
                                        @*<th>
                        @Html.DisplayNameFor(model => model.Etat)
                    </th>*@
                                        <th>
                                            Administrateur
                                        </th>
                                        <th>
                                            Actions
                                        </th>

                                    </tr>
                                </thead>
                                <tbody>

                                    @foreach (var item in Model)
                                    {
                                        <tr>
                                            <td>
                                                @Html.DisplayFor(modelItem => item.Montant)
                                            </td>
                                            <td>
                                                @Html.DisplayFor(modelItem => item.Benef)
                                            </td>
                                            <td>
                                                @Html.DisplayFor(modelItem => item.DateTransaction)
                                            </td>
                                            @*<td>
                            @Html.DisplayFor(modelItem => item.Etat)
                        </td>*@

                                            <td>
                                                @Html.DisplayFor(modelItem => item.useremail)
                                            </td>
                                            <td>
                                                @*<a asp-action="Edit" asp-route-id="@item.Id">Edit</a> |*@
                                                <a asp-action="Details" asp-route-id="@item.Id">Details</a>
                                                @*<a asp-action="Delete" asp-route-id="@item.Id" asp-route-montant="@item.Montant">Supprimer</a>*@
                                            </td>
                                        </tr>
                                    }





                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <!-- END SAMPLE TABLE PORTLET-->
            </div>


        </div>






    </div>
</div>